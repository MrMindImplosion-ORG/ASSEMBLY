; Type your assembly code here.
; Click A or press F8 to assemble the code.
; Click S to Step or Increase-Clock-Rate

MOVW 0x30
MOVWR TRISC

MOVW 0X00
MOVWR TRISB

JMP OFFPOLL

ON1POLL:
  MOVRW PORTC
  ANDW 0X10
  XORW 0X00
  JPZ OFF1
  JMP ON1POLL

ON2POLL:
  MOVRW PORTC
  ANDW 0X20
  XORW 0X00
  JPZ OFF2
  JMP ON2POLL

OFFPOLL:
  MOVRW PORTC
  ANDW 0X10
  XORW 0X10
  JPZ ON1

  MOVRW PORTC
  ANDW 0X20
  XORW 0X20
  JPZ ON2

  JMP OFFPOLL

ON1:
  CALL DELAY1
  MOVW 0X08
  MOVWR PORTB
  JMP ON1POLL

ON2:
  CALL DELAY2
  MOVW 0X10
  MOVWR PORTB
  JMP ON2POLL

OFF1:
  MOVW 0X00
  MOVWR PORTB
  JMP OFFPOLL

OFF2:
  MOVW 0X00
  MOVWR PORTB
  JMP OFFPOLL

DELAY1:
  MOVW 0X07
DELAY1LOOP:
  SUBW 0X01
  JPZ DELAY1END
  JMP DELAY1LOOP
DELAY1END:
  RET

DELAY2:
  MOVW 0X03
DELAY2LOOP:
  SUBW 0X01
  JPZ DELAY2END
  JMP DELAY2LOOP
DELAY2END:
  RET
