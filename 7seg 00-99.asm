; ============================================
; OPEN LOOP CONTROL OF THE SEVEN SEG DISPLAYS
; CONNECT THE SEVEN SEGMENT DISPLAYS TO PORTA
; STEP OR RUN THE PROGRAM
; ============================================

;    MOVW    0x80    ; CLEAR LEFT DISPLAY
;    MOVWR   PORTA
;    MOVW    0x00    ; CLEAR RIGHT DISPLAY
;    MOVWR   PORTA
;
;START:
;    MOVW    0x05    ; CONTROL DATA TO W (ONE)
;    MOVWR   PORTA   ; COPY DATA TO PORT
;    NOP             ; TIMING
;    NOP             ; TIMING
;    MOVW    0x5B    ; CONTROL DATA TO W (TWO)
;    MOVWR   PORTA   ; COPY DATA TO PORT
;    JMP     START

; ============================================
; TASK: Count from 0 to 9 (quite easy).
;       Count from 00 to 99 (fiendish).
; ============================================

;set values
MOVW 0x7D
MOVWR 0xE0

MOVW 0x05
MOVWR 0xE1

MOVW 0x5B
MOVWR 0xE2

MOVW 0x4F
MOVWR 0xE3

MOVW 0x27
MOVWR 0xE4

MOVW 0x6E
MOVWR 0xE5

MOVW 0x7E
MOVWR 0xE6

MOVW 0x45
MOVWR 0xE7

MOVW 0x7F
MOVWR 0xE8

MOVW 0x6F
MOVWR 0xE9

;RESET W
MOVW 0x00

;JUMP TO COUNTER
JMP COUNT

RCOUNT0:
  MOVRW 0xE0
  MOVWR PORTA

RCOUNT1:
  MOVRW 0xE1
  MOVWR PORTA
RET

RCOUNT2:
  MOVRW 0xE2
  MOVWR PORTA
RET

RCOUNT3:
  MOVRW 0xE3
  MOVWR PORTA
RET

RCOUNT4:
  MOVRW 0xE4
  MOVWR PORTA
RET

RCOUNT5:
  MOVRW 0xE5
  MOVWR PORTA
RET

RCOUNT6:
  MOVRW 0xE6
  MOVWR PORTA
RET

RCOUNT7:
  MOVRW 0xE7
  MOVWR PORTA
RET

RCOUNT8:
  MOVRW 0xE8
  MOVWR PORTA
RET

RCOUNT9:
  MOVRW 0xE9
  MOVWR PORTA
RET

LCOUNT0:
  MOVRW 0xE0
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT1:
  MOVRW 0xE1
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT2:
  MOVRW 0xE2
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT3:
  MOVRW 0xE3
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT4:
  MOVRW 0xE4
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT5:
  MOVRW 0xE5
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT6:
  MOVRW 0xE6
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT7:
  MOVRW 0xE7
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT8:
  MOVRW 0xE8
  ADDW 0x80
  MOVWR PORTA
RET

LCOUNT9:
  MOVRW 0xE9
  ADDW 0x80
  MOVWR PORTA
RET

RCOUNT:
  CALL RCOUNT0
  CALL RCOUNT1
  CALL RCOUNT2
  CALL RCOUNT3 
  CALL RCOUNT4
  CALL RCOUNT5
  CALL RCOUNT6
  CALL RCOUNT7
  CALL RCOUNT8
  CALL RCOUNT9
RET

COUNT:
  CALL LCOUNT0
  CALL RCOUNT
  CALL LCOUNT1
  CALL RCOUNT
  CALL LCOUNT2
  CALL RCOUNT
  CALL LCOUNT3
  CALL RCOUNT
  CALL LCOUNT4
  CALL RCOUNT
  CALL LCOUNT5
  CALL RCOUNT
  CALL LCOUNT6
  CALL RCOUNT
  CALL LCOUNT7
  CALL RCOUNT
  CALL LCOUNT8
  CALL RCOUNT
  CALL LCOUNT9
  CALL RCOUNT
JMP COUNT
